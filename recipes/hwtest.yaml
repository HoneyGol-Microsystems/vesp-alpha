metadata:
  type: "makepy recipe"
  version: 0.1

recipe:
  name: "Hardware Test"
  comment: "This test recipe compiles and runs Verilog test files using iverilog."
  print_logs: "always"
  steps:
    - make_directory: "build"
    - run:
        executable: "iverilog"
        params:
          - TEST_SOURCE,
          - "-o build/tmp.out"
        assert:
          return_code: 0
          output:
            not_contains: "ERROR"
    - run:
        executable: "build/tmp.out"
        assert:
          output:
            contains: "ASSERT_SUCCESS"